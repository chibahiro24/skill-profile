# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³é–‹ç™ºã‚¬ã‚¤ãƒ‰

ã“ã®ã‚¬ã‚¤ãƒ‰ã§ã¯ã€Skill Profileç”¨ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é–‹ç™ºã™ã‚‹æ–¹æ³•ã‚’èª¬æ˜ã—ã¾ã™ã€‚

## ç›®æ¬¡

- [æ¦‚è¦](#æ¦‚è¦)
- [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯](#ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯)
- [é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—](#é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—)
- [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½œæˆ](#ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½œæˆ)
- [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³API](#ãƒ—ãƒ©ã‚°ã‚¤ãƒ³api)
- [ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹](#ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹)
- [ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°](#ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°)
- [ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å…¬é–‹](#ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å…¬é–‹)
- [ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](#ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³)

---

## æ¦‚è¦

Skill Profileã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¯ã€å¤–éƒ¨ã‚µãƒ¼ãƒ“ã‚¹ã¨ã®é€£æºã‚„ç‹¬è‡ªã®æ©Ÿèƒ½ã‚’è¿½åŠ ã™ã‚‹ãŸã‚ã®æ‹¡å¼µãƒ¡ã‚«ãƒ‹ã‚ºãƒ ã§ã™ã€‚ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ä½¿ç”¨ã™ã‚‹ã“ã¨ã§ã€ä»¥ä¸‹ãŒå¯èƒ½ã«ãªã‚Šã¾ã™ï¼š

- **ãƒ­ã‚°åé›†**: AIãƒãƒ£ãƒƒãƒˆã€ã‚³ãƒ¼ãƒ‰ã‚¨ãƒ‡ã‚£ã‚¿ã€å­¦ç¿’ãƒ—ãƒ©ãƒƒãƒˆãƒ•ã‚©ãƒ¼ãƒ ç­‰ã‹ã‚‰ã®æ´»å‹•ãƒ­ã‚°åé›†
- **ã‚¹ã‚­ãƒ«æŠ½å‡º**: åé›†ã—ãŸãƒ­ã‚°ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰ã®è‡ªå‹•æŠ½å‡º
- **ãƒ‡ãƒ¼ã‚¿å¤‰æ›**: å¤–éƒ¨ãƒ‡ãƒ¼ã‚¿ã‚’Skill Profileå½¢å¼ã«å¤‰æ›
- **ã‚«ã‚¹ã‚¿ãƒ åˆ†æ**: ç‹¬è‡ªã®ã‚¹ã‚­ãƒ«åˆ†æãƒ­ã‚¸ãƒƒã‚¯ã®å®Ÿè£…

---

## ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚·ã‚¹ãƒ†ãƒ ã¨ã¯

### ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚         Skill Profile Core              â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Plugin Registry             â”‚  â”‚
â”‚  â”‚  - ç™»éŒ²                          â”‚  â”‚
â”‚  â”‚  - ãƒãƒ¼ã‚¸ãƒ§ãƒ³ç®¡ç†                â”‚  â”‚
â”‚  â”‚  - æ¨©é™ç®¡ç†                      â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                                         â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚      Plugin Sandbox              â”‚  â”‚
â”‚  â”‚  - WebAssemblyå®Ÿè¡Œç’°å¢ƒ          â”‚  â”‚
â”‚  â”‚  - ãƒªã‚½ãƒ¼ã‚¹åˆ¶é™                  â”‚  â”‚
â”‚  â”‚  - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£éš”é›¢              â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                    â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚           â”‚           â”‚
   â”Œâ”€â”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â” â”Œâ”€â”€â”€â–¼â”€â”€â”€â”€â”
   â”‚ Plugin  â”‚ â”‚ Plugin â”‚ â”‚ Plugin â”‚
   â”‚    A    â”‚ â”‚    B   â”‚ â”‚    C   â”‚
   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜ â””â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«

```mermaid
stateDiagram-v2
    [*] --> Draft: é–‹ç™ºä¸­
    Draft --> Testing: ãƒ†ã‚¹ãƒˆé–‹å§‹
    Testing --> Draft: ä¿®æ­£ãŒå¿…è¦
    Testing --> Review: ãƒ¬ãƒ“ãƒ¥ãƒ¼ç”³è«‹
    Review --> Testing: å´ä¸‹
    Review --> Published: æ‰¿èª
    Published --> Installed: ãƒ¦ãƒ¼ã‚¶ãƒ¼ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    Installed --> Enabled: æœ‰åŠ¹åŒ–
    Enabled --> Disabled: ç„¡åŠ¹åŒ–
    Disabled --> Enabled: å†æœ‰åŠ¹åŒ–
    Enabled --> Uninstalled: ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    Disabled --> Uninstalled: ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    Uninstalled --> Installed: å†ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
    Published --> Deprecated: éæ¨å¥¨åŒ–
    Deprecated --> [*]
```

---

## é–‹ç™ºç’°å¢ƒã®ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

### å‰ææ¡ä»¶

- Node.js 18+ ã¾ãŸã¯ Python 3.9+
- npm ã¾ãŸã¯ yarn
- Git
- Skill Profileé–‹ç™ºè€…ã‚¢ã‚«ã‚¦ãƒ³ãƒˆ

### Plugin SDK ã®ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«

#### TypeScript/JavaScript

```bash
# ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install -g @skill-profile/plugin-sdk

# ã¾ãŸã¯ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆã«ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
npm install --save-dev @skill-profile/plugin-sdk
```

#### Python

```bash
# pipã§ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
pip install skill-profile-plugin-sdk

# ã¾ãŸã¯ä»®æƒ³ç’°å¢ƒã§
python -m venv venv
source venv/bin/activate  # Windowsã®å ´åˆ: venv\Scripts\activate
pip install skill-profile-plugin-sdk
```

### CLI ãƒ„ãƒ¼ãƒ«ã®ç¢ºèª

```bash
skill-profile-cli --version
# å‡ºåŠ›: skill-profile-cli/1.0.0
```

---

## ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ä½œæˆ

### æ–°ã—ã„ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®åˆæœŸåŒ–

```bash
# ã‚¤ãƒ³ã‚¿ãƒ©ã‚¯ãƒ†ã‚£ãƒ–ãƒ¢ãƒ¼ãƒ‰
skill-profile-cli plugin create

# ã¾ãŸã¯ç›´æ¥æŒ‡å®š
skill-profile-cli plugin create \
  --name my-awesome-plugin \
  --type ai-integration \
  --language typescript
```

å¯¾è©±å½¢å¼ã§ä»¥ä¸‹ã‚’å…¥åŠ›ï¼š

```
? Plugin name: my-awesome-plugin
? Description: Awesome integration for Skill Profile
? Author: Your Name <your.email@example.com>
? License: Apache-2.0
? Language: TypeScript
? Plugin type: AI Integration
```

### ç”Ÿæˆã•ã‚Œã‚‹ãƒ—ãƒ­ã‚¸ã‚§ã‚¯ãƒˆæ§‹é€ 

```
my-awesome-plugin/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ index.ts          # ã‚¨ãƒ³ãƒˆãƒªãƒ¼ãƒã‚¤ãƒ³ãƒˆ
â”‚   â”œâ”€â”€ plugin.ts         # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ¡ã‚¤ãƒ³ã‚¯ãƒ©ã‚¹
â”‚   â”œâ”€â”€ types.ts          # å‹å®šç¾©
â”‚   â””â”€â”€ utils/            # ãƒ¦ãƒ¼ãƒ†ã‚£ãƒªãƒ†ã‚£
â”‚       â””â”€â”€ logger.ts
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ plugin.test.ts    # ãƒ†ã‚¹ãƒˆãƒ•ã‚¡ã‚¤ãƒ«
â”‚   â””â”€â”€ fixtures/         # ãƒ†ã‚¹ãƒˆãƒ‡ãƒ¼ã‚¿
â”œâ”€â”€ config/
â”‚   â””â”€â”€ schema.json       # è¨­å®šã‚¹ã‚­ãƒ¼ãƒ
â”œâ”€â”€ docs/
â”‚   â””â”€â”€ README.md         # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ
â”œâ”€â”€ package.json
â”œâ”€â”€ tsconfig.json
â”œâ”€â”€ .eslintrc.js
â”œâ”€â”€ .gitignore
â””â”€â”€ plugin.manifest.json  # ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿
```

---

## ãƒ—ãƒ©ã‚°ã‚¤ãƒ³API

### ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚¤ãƒ³ã‚¿ãƒ¼ãƒ•ã‚§ãƒ¼ã‚¹

#### TypeScript

```typescript
import {
  Plugin,
  PluginMetadata,
  PluginConfig,
  ActivityLog,
  DetectedSkill,
  PluginHealth
} from '@skill-profile/plugin-sdk';

export class MyAwesomePlugin implements Plugin {
  // ãƒ¡ã‚¿ãƒ‡ãƒ¼ã‚¿ï¼ˆå¿…é ˆï¼‰
  metadata: PluginMetadata = {
    name: 'my-awesome-plugin',
    version: '1.0.0',
    author: 'Your Name',
    description: 'Awesome integration for Skill Profile',
    homepage: 'https://github.com/your-name/my-awesome-plugin',
    repository: 'https://github.com/your-name/my-awesome-plugin',
    license: 'Apache-2.0',
    permissions: [
      'read:logs',
      'write:skills',
      'network:external'
    ],
    categories: ['ai-integration', 'automation'],
    icon: 'https://example.com/icon.png'
  };

  // ãƒ©ã‚¤ãƒ•ã‚µã‚¤ã‚¯ãƒ«ãƒ•ãƒƒã‚¯ï¼ˆã‚ªãƒ—ã‚·ãƒ§ãƒ³ï¼‰
  async onInstall(): Promise<void> {
    console.log('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸ');
    // åˆæœŸè¨­å®šã€ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ãƒ†ãƒ¼ãƒ–ãƒ«ã®ä½œæˆç­‰
  }

  async onEnable(): Promise<void> {
    console.log('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¾ã—ãŸ');
    // å®šæœŸã‚¿ã‚¹ã‚¯ã®é–‹å§‹ç­‰
  }

  async onDisable(): Promise<void> {
    console.log('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¾ã—ãŸ');
    // ãƒªã‚½ãƒ¼ã‚¹ã®ã‚¯ãƒªãƒ¼ãƒ³ã‚¢ãƒƒãƒ—ç­‰
  }

  async onUninstall(): Promise<void> {
    console.log('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸ');
    // ãƒ‡ãƒ¼ã‚¿ã®å‰Šé™¤ç­‰
  }

  // ã‚³ã‚¢æ©Ÿèƒ½ï¼ˆå¿…é ˆï¼‰
  
  /**
   * ãƒ­ã‚°ã‚’åé›†ã™ã‚‹
   */
  async collectLogs(config: PluginConfig): Promise<ActivityLog[]> {
    const logs: ActivityLog[] = [];
    
    try {
      // å¤–éƒ¨APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
      const data = await this.fetchExternalData(config);
      
      // ActivityLogå½¢å¼ã«å¤‰æ›
      for (const item of data) {
        logs.push({
          id: item.id,
          userId: config.userId,
          pluginId: this.metadata.name,
          sourceType: 'ai_conversation',
          content: item.content,
          metadata: {
            timestamp: item.createdAt,
            language: item.language,
            tags: item.tags
          },
          createdAt: new Date(item.createdAt)
        });
      }
    } catch (error) {
      console.error('ãƒ­ã‚°åé›†ã‚¨ãƒ©ãƒ¼:', error);
    }
    
    return logs;
  }

  /**
   * ãƒ­ã‚°ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚’æŠ½å‡ºã™ã‚‹
   */
  async extractSkills(logs: ActivityLog[]): Promise<DetectedSkill[]> {
    const skills: DetectedSkill[] = [];
    
    for (const log of logs) {
      // è‡ªç„¶è¨€èªå‡¦ç†ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ã‚¹ã‚­ãƒ«ã‚’æ¤œå‡º
      const detected = await this.analyzeContent(log.content);
      
      for (const skill of detected) {
        skills.push({
          activityLogId: log.id,
          skillName: skill.name,
          skillCategory: skill.category,
          confidenceScore: skill.confidence,
          contextSnippet: this.extractContext(log.content, skill.name),
          detectionMethod: 'nlp',
          relatedSkills: skill.related || []
        });
      }
    }
    
    return skills;
  }

  /**
   * è¨­å®šã‚’æ¤œè¨¼ã™ã‚‹
   */
  async validateConfig(config: PluginConfig): Promise<boolean> {
    // APIã‚­ãƒ¼ã®æ¤œè¨¼
    if (!config.apiKey) {
      throw new Error('APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“');
    }
    
    // æ¥ç¶šãƒ†ã‚¹ãƒˆ
    try {
      await this.testConnection(config);
      return true;
    } catch (error) {
      throw new Error(`æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ: ${error.message}`);
    }
  }

  /**
   * è¨­å®šã‚¹ã‚­ãƒ¼ãƒã‚’å–å¾—ã™ã‚‹
   */
  getConfigSchema(): JSONSchema {
    return {
      type: 'object',
      properties: {
        apiKey: {
          type: 'string',
          title: 'APIã‚­ãƒ¼',
          description: 'ã‚µãƒ¼ãƒ“ã‚¹ã®APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
          minLength: 32,
          secret: true  // ãƒã‚¹ã‚¯è¡¨ç¤º
        },
        syncInterval: {
          type: 'number',
          title: 'åŒæœŸé–“éš”ï¼ˆåˆ†ï¼‰',
          description: 'ãƒ­ã‚°ã‚’åŒæœŸã™ã‚‹é–“éš”',
          default: 60,
          minimum: 5,
          maximum: 1440
        },
        categories: {
          type: 'array',
          title: 'åé›†ã‚«ãƒ†ã‚´ãƒª',
          description: 'åé›†ã™ã‚‹ãƒ­ã‚°ã®ã‚«ãƒ†ã‚´ãƒª',
          items: {
            type: 'string',
            enum: ['all', 'technical', 'business', 'language']
          },
          default: ['all']
        }
      },
      required: ['apiKey']
    };
  }

  /**
   * ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯
   */
  async healthCheck(): Promise<PluginHealth> {
    try {
      // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®çŠ¶æ…‹ã‚’ç¢ºèª
      const isHealthy = await this.checkServiceHealth();
      
      return {
        status: isHealthy ? 'healthy' : 'unhealthy',
        message: isHealthy ? 'All systems operational' : 'Service unavailable',
        lastChecked: new Date(),
        details: {
          apiStatus: 'ok',
          lastSync: await this.getLastSyncTime()
        }
      };
    } catch (error) {
      return {
        status: 'error',
        message: error.message,
        lastChecked: new Date()
      };
    }
  }

  // ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰
  
  private async fetchExternalData(config: PluginConfig): Promise<any[]> {
    // å¤–éƒ¨APIã¸ã®ãƒªã‚¯ã‚¨ã‚¹ãƒˆå®Ÿè£…
    const response = await fetch('https://api.example.com/data', {
      headers: {
        'Authorization': `Bearer ${config.apiKey}`
      }
    });
    return await response.json();
  }

  private async analyzeContent(content: string): Promise<any[]> {
    // ã‚³ãƒ³ãƒ†ãƒ³ãƒ„åˆ†æãƒ­ã‚¸ãƒƒã‚¯
    // ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰æŠ½å‡ºã€NLPç­‰
    return [];
  }

  private extractContext(content: string, keyword: string, contextLength: number = 100): string {
    const index = content.toLowerCase().indexOf(keyword.toLowerCase());
    if (index === -1) return '';
    
    const start = Math.max(0, index - contextLength / 2);
    const end = Math.min(content.length, index + keyword.length + contextLength / 2);
    
    return '...' + content.substring(start, end) + '...';
  }

  private async testConnection(config: PluginConfig): Promise<void> {
    // æ¥ç¶šãƒ†ã‚¹ãƒˆã®å®Ÿè£…
  }

  private async checkServiceHealth(): Promise<boolean> {
    // ã‚µãƒ¼ãƒ“ã‚¹ã®å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯
    return true;
  }

  private async getLastSyncTime(): Promise<Date> {
    // æœ€çµ‚åŒæœŸæ™‚åˆ»ã®å–å¾—
    return new Date();
  }
}

// ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¨ã‚¯ã‚¹ãƒãƒ¼ãƒˆ
export default MyAwesomePlugin;
```

#### Python

```python
from skill_profile_plugin_sdk import (
    Plugin,
    PluginMetadata,
    PluginConfig,
    ActivityLog,
    DetectedSkill,
    PluginHealth
)
from typing import List
from datetime import datetime

class MyAwesomePlugin(Plugin):
    def __init__(self):
        self.metadata = PluginMetadata(
            name='my-awesome-plugin',
            version='1.0.0',
            author='Your Name',
            description='Awesome integration for Skill Profile',
            homepage='https://github.com/your-name/my-awesome-plugin',
            repository='https://github.com/your-name/my-awesome-plugin',
            license='Apache-2.0',
            permissions=['read:logs', 'write:skills', 'network:external'],
            categories=['ai-integration', 'automation']
        )
    
    async def on_install(self) -> None:
        """ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã®å‡¦ç†"""
        print('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸ')
    
    async def on_enable(self) -> None:
        """æœ‰åŠ¹åŒ–æ™‚ã®å‡¦ç†"""
        print('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒæœ‰åŠ¹åŒ–ã•ã‚Œã¾ã—ãŸ')
    
    async def on_disable(self) -> None:
        """ç„¡åŠ¹åŒ–æ™‚ã®å‡¦ç†"""
        print('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒç„¡åŠ¹åŒ–ã•ã‚Œã¾ã—ãŸ')
    
    async def on_uninstall(self) -> None:
        """ã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«æ™‚ã®å‡¦ç†"""
        print('ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãŒã‚¢ãƒ³ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«ã•ã‚Œã¾ã—ãŸ')
    
    async def collect_logs(self, config: PluginConfig) -> List[ActivityLog]:
        """ãƒ­ã‚°ã‚’åé›†ã™ã‚‹"""
        logs = []
        
        try:
            # å¤–éƒ¨APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—
            data = await self._fetch_external_data(config)
            
            # ActivityLogå½¢å¼ã«å¤‰æ›
            for item in data:
                logs.append(ActivityLog(
                    id=item['id'],
                    user_id=config.user_id,
                    plugin_id=self.metadata.name,
                    source_type='ai_conversation',
                    content=item['content'],
                    metadata={
                        'timestamp': item['created_at'],
                        'language': item['language'],
                        'tags': item['tags']
                    },
                    created_at=datetime.fromisoformat(item['created_at'])
                ))
        except Exception as e:
            print(f'ãƒ­ã‚°åé›†ã‚¨ãƒ©ãƒ¼: {e}')
        
        return logs
    
    async def extract_skills(self, logs: List[ActivityLog]) -> List[DetectedSkill]:
        """ãƒ­ã‚°ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚’æŠ½å‡ºã™ã‚‹"""
        skills = []
        
        for log in logs:
            # è‡ªç„¶è¨€èªå‡¦ç†ã‚„ãƒ‘ã‚¿ãƒ¼ãƒ³ãƒãƒƒãƒãƒ³ã‚°ã§ã‚¹ã‚­ãƒ«ã‚’æ¤œå‡º
            detected = await self._analyze_content(log.content)
            
            for skill in detected:
                skills.append(DetectedSkill(
                    activity_log_id=log.id,
                    skill_name=skill['name'],
                    skill_category=skill['category'],
                    confidence_score=skill['confidence'],
                    context_snippet=self._extract_context(log.content, skill['name']),
                    detection_method='nlp',
                    related_skills=skill.get('related', [])
                ))
        
        return skills
    
    async def validate_config(self, config: PluginConfig) -> bool:
        """è¨­å®šã‚’æ¤œè¨¼ã™ã‚‹"""
        if not config.api_key:
            raise ValueError('APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“')
        
        try:
            await self._test_connection(config)
            return True
        except Exception as e:
            raise ValueError(f'æ¥ç¶šã«å¤±æ•—ã—ã¾ã—ãŸ: {e}')
    
    def get_config_schema(self) -> dict:
        """è¨­å®šã‚¹ã‚­ãƒ¼ãƒã‚’å–å¾—ã™ã‚‹"""
        return {
            'type': 'object',
            'properties': {
                'api_key': {
                    'type': 'string',
                    'title': 'APIã‚­ãƒ¼',
                    'description': 'ã‚µãƒ¼ãƒ“ã‚¹ã®APIã‚­ãƒ¼ã‚’å…¥åŠ›ã—ã¦ãã ã•ã„',
                    'minLength': 32,
                    'secret': True
                },
                'sync_interval': {
                    'type': 'number',
                    'title': 'åŒæœŸé–“éš”ï¼ˆåˆ†ï¼‰',
                    'description': 'ãƒ­ã‚°ã‚’åŒæœŸã™ã‚‹é–“éš”',
                    'default': 60,
                    'minimum': 5,
                    'maximum': 1440
                },
                'categories': {
                    'type': 'array',
                    'title': 'åé›†ã‚«ãƒ†ã‚´ãƒª',
                    'description': 'åé›†ã™ã‚‹ãƒ­ã‚°ã®ã‚«ãƒ†ã‚´ãƒª',
                    'items': {
                        'type': 'string',
                        'enum': ['all', 'technical', 'business', 'language']
                    },
                    'default': ['all']
                }
            },
            'required': ['api_key']
        }
    
    async def health_check(self) -> PluginHealth:
        """ãƒ˜ãƒ«ã‚¹ãƒã‚§ãƒƒã‚¯"""
        try:
            is_healthy = await self._check_service_health()
            
            return PluginHealth(
                status='healthy' if is_healthy else 'unhealthy',
                message='All systems operational' if is_healthy else 'Service unavailable',
                last_checked=datetime.now(),
                details={
                    'api_status': 'ok',
                    'last_sync': await self._get_last_sync_time()
                }
            )
        except Exception as e:
            return PluginHealth(
                status='error',
                message=str(e),
                last_checked=datetime.now()
            )
    
    # ãƒ—ãƒ©ã‚¤ãƒ™ãƒ¼ãƒˆãƒ¡ã‚½ãƒƒãƒ‰
    
    async def _fetch_external_data(self, config: PluginConfig) -> List[dict]:
        """å¤–éƒ¨APIã‹ã‚‰ãƒ‡ãƒ¼ã‚¿ã‚’å–å¾—"""
        # å®Ÿè£…
        return []
    
    async def _analyze_content(self, content: str) -> List[dict]:
        """ã‚³ãƒ³ãƒ†ãƒ³ãƒ„ã‚’åˆ†æ"""
        # å®Ÿè£…
        return []
    
    def _extract_context(self, content: str, keyword: str, context_length: int = 100) -> str:
        """ã‚­ãƒ¼ãƒ¯ãƒ¼ãƒ‰å‘¨è¾ºã®ã‚³ãƒ³ãƒ†ã‚­ã‚¹ãƒˆã‚’æŠ½å‡º"""
        index = content.lower().find(keyword.lower())
        if index == -1:
            return ''
        
        start = max(0, index - context_length // 2)
        end = min(len(content), index + len(keyword) + context_length // 2)
        
        return '...' + content[start:end] + '...'
    
    async def _test_connection(self, config: PluginConfig) -> None:
        """æ¥ç¶šãƒ†ã‚¹ãƒˆ"""
        # å®Ÿè£…
        pass
    
    async def _check_service_health(self) -> bool:
        """ã‚µãƒ¼ãƒ“ã‚¹ã®å¥å…¨æ€§ãƒã‚§ãƒƒã‚¯"""
        return True
    
    async def _get_last_sync_time(self) -> datetime:
        """æœ€çµ‚åŒæœŸæ™‚åˆ»ã‚’å–å¾—"""
        return datetime.now()
```

### å‹å®šç¾©

#### ActivityLog

```typescript
interface ActivityLog {
  id: string;
  userId: string;
  pluginId: string;
  sourceType: 'ai_conversation' | 'code_edit' | 'github_activity' | 'learning' | string;
  content: string;  // æš—å·åŒ–å‰ã®ã‚³ãƒ³ãƒ†ãƒ³ãƒ„
  metadata: {
    [key: string]: any;
  };
  createdAt: Date;
}
```

#### DetectedSkill

```typescript
interface DetectedSkill {
  activityLogId: string;
  skillName: string;
  skillCategory: string;
  confidenceScore: number;  // 0-1ã®ç¯„å›²
  contextSnippet: string;
  detectionMethod: 'keyword' | 'nlp' | 'ml' | string;
  relatedSkills: string[];
}
```

#### PluginConfig

```typescript
interface PluginConfig {
  userId: string;
  pluginId: string;
  [key: string]: any;  // ãƒ—ãƒ©ã‚°ã‚¤ãƒ³å›ºæœ‰ã®è¨­å®š
}
```

---

## ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹

### 1. ã‚¨ãƒ©ãƒ¼ãƒãƒ³ãƒ‰ãƒªãƒ³ã‚°

```typescript
async collectLogs(config: PluginConfig): Promise<ActivityLog[]> {
  try {
    const data = await this.fetchData(config);
    return this.transformData(data);
  } catch (error) {
    // ã‚¨ãƒ©ãƒ¼ã‚’ãƒ­ã‚°ã«è¨˜éŒ²
    console.error('Failed to collect logs:', error);
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ãƒ•ãƒ¬ãƒ³ãƒ‰ãƒªãƒ¼ãªã‚¨ãƒ©ãƒ¼ãƒ¡ãƒƒã‚»ãƒ¼ã‚¸
    if (error.response?.status === 401) {
      throw new Error('APIã‚­ãƒ¼ãŒç„¡åŠ¹ã§ã™ã€‚è¨­å®šã‚’ç¢ºèªã—ã¦ãã ã•ã„ã€‚');
    }
    
    // éƒ¨åˆ†çš„ãªæˆåŠŸã‚’è¨±å®¹
    return [];  // ç©ºã®é…åˆ—ã‚’è¿”ã™ï¼ˆå…¨ä½“ã®ãƒ•ãƒ­ãƒ¼ã‚’åœæ­¢ã—ãªã„ï¼‰
  }
}
```

### 2. ãƒ¬ãƒ¼ãƒˆåˆ¶é™ã®éµå®ˆ

```typescript
class RateLimiter {
  private lastRequest: Date;
  private minInterval: number;  // ãƒŸãƒªç§’
  
  constructor(requestsPerMinute: number) {
    this.minInterval = 60000 / requestsPerMinute;
    this.lastRequest = new Date(0);
  }
  
  async throttle(): Promise<void> {
    const now = new Date();
    const elapsed = now.getTime() - this.lastRequest.getTime();
    
    if (elapsed < this.minInterval) {
      const waitTime = this.minInterval - elapsed;
      await new Promise(resolve => setTimeout(resolve, waitTime));
    }
    
    this.lastRequest = new Date();
  }
}

// ä½¿ç”¨ä¾‹
private rateLimiter = new RateLimiter(60);  // 60 req/min

async fetchData(url: string): Promise<any> {
  await this.rateLimiter.throttle();
  return await fetch(url);
}
```

### 3. ãƒ‡ãƒ¼ã‚¿ã®ãƒ—ãƒ©ã‚¤ãƒã‚·ãƒ¼ä¿è­·

```typescript
// ã‚»ãƒ³ã‚·ãƒ†ã‚£ãƒ–æƒ…å ±ã®é™¤å¤–
function sanitizeContent(content: string): string {
  // ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ã‚’ãƒã‚¹ã‚¯
  content = content.replace(
    /[\w.-]+@[\w.-]+\.\w+/g,
    '[EMAIL_REDACTED]'
  );
  
  // APIã‚­ãƒ¼ã‚’ãƒã‚¹ã‚¯
  content = content.replace(
    /\b[A-Za-z0-9]{32,}\b/g,
    '[API_KEY_REDACTED]'
  );
  
  // ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ç•ªå·ã‚’ãƒã‚¹ã‚¯
  content = content.replace(
    /\b\d{4}[\s-]?\d{4}[\s-]?\d{4}[\s-]?\d{4}\b/g,
    '[CARD_REDACTED]'
  );
  
  return content;
}

async collectLogs(config: PluginConfig): Promise<ActivityLog[]> {
  const logs = await this.fetchRawLogs(config);
  
  return logs.map(log => ({
    ...log,
    content: sanitizeContent(log.content)
  }));
}
```

### 4. åŠ¹ç‡çš„ãªã‚¹ã‚­ãƒ«æ¤œå‡º

```typescript
// ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ä½¿ç”¨ã—ãŸã‚¹ã‚­ãƒ«æ¤œå‡º
class SkillDetector {
  private skillCache = new Map<string, DetectedSkill[]>();
  private vectorDB: VectorDatabase;
  
  async detectSkills(content: string): Promise<DetectedSkill[]> {
    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã‚’ãƒã‚§ãƒƒã‚¯
    const hash = this.hashContent(content);
    if (this.skillCache.has(hash)) {
      return this.skillCache.get(hash)!;
    }
    
    // ãƒ™ã‚¯ãƒˆãƒ«æ¤œç´¢ã§é¡ä¼¼ã‚¹ã‚­ãƒ«ã‚’å–å¾—
    const embedding = await this.embed(content);
    const similar = await this.vectorDB.search(embedding, 10);
    
    // NLPã§è¿½åŠ ã®ã‚¹ã‚­ãƒ«ã‚’æ¤œå‡º
    const nlpSkills = await this.nlpExtract(content);
    
    // çµåˆã¨é‡è¤‡æ’é™¤
    const skills = this.mergeSkills(similar, nlpSkills);
    
    // ã‚­ãƒ£ãƒƒã‚·ãƒ¥ã«ä¿å­˜
    this.skillCache.set(hash, skills);
    
    return skills;
  }
  
  private hashContent(content: string): string {
    // ãƒãƒƒã‚·ãƒ¥åŒ–ã®å®Ÿè£…
    return crypto.createHash('sha256').update(content).digest('hex');
  }
}
```

### 5. æ®µéšçš„ãªãƒ‡ãƒ¼ã‚¿åé›†

```typescript
async collectLogs(config: PluginConfig): Promise<ActivityLog[]> {
  const logs: ActivityLog[] = [];
  let page = 1;
  let hasMore = true;
  
  while (hasMore) {
    try {
      const batch = await this.fetchPage(config, page);
      logs.push(...batch);
      
      // é€²æ—ã‚’å ±å‘Š
      this.reportProgress({
        collected: logs.length,
        page: page
      });
      
      hasMore = batch.length > 0;
      page++;
      
      // éåº¦ãªè² è·ã‚’é¿ã‘ã‚‹ãŸã‚ã€ãƒšãƒ¼ã‚¸ã”ã¨ã«å¾…æ©Ÿ
      await this.sleep(1000);
    } catch (error) {
      console.error(`Page ${page} failed:`, error);
      break;  // ã‚¨ãƒ©ãƒ¼æ™‚ã¯æ—¢ã«åé›†ã—ãŸãƒ‡ãƒ¼ã‚¿ã‚’è¿”ã™
    }
  }
  
  return logs;
}
```

---

## ãƒ†ã‚¹ãƒˆã¨ãƒ‡ãƒãƒƒã‚°

### ãƒ¦ãƒ‹ãƒƒãƒˆãƒ†ã‚¹ãƒˆã®ä½œæˆ

```typescript
// tests/plugin.test.ts
import { MyAwesomePlugin } from '../src/plugin';
import { PluginConfig, ActivityLog } from '@skill-profile/plugin-sdk';

describe('MyAwesomePlugin', () => {
  let plugin: MyAwesomePlugin;
  let config: PluginConfig;
  
  beforeEach(() => {
    plugin = new MyAwesomePlugin();
    config = {
      userId: 'test-user',
      pluginId: 'my-awesome-plugin',
      apiKey: 'test-api-key'
    };
  });
  
  describe('collectLogs', () => {
    it('should collect logs successfully', async () => {
      const logs = await plugin.collectLogs(config);
      
      expect(logs).toBeInstanceOf(Array);
      expect(logs.length).toBeGreaterThan(0);
      expect(logs[0]).toHaveProperty('id');
      expect(logs[0]).toHaveProperty('content');
    });
    
    it('should handle API errors gracefully', async () => {
      const invalidConfig = { ...config, apiKey: 'invalid' };
      
      await expect(plugin.collectLogs(invalidConfig)).resolves.toEqual([]);
    });
  });
  
  describe('extractSkills', () => {
    it('should extract skills from logs', async () => {
      const logs: ActivityLog[] = [{
        id: '1',
        userId: 'test-user',
        pluginId: 'my-awesome-plugin',
        sourceType: 'ai_conversation',
        content: 'I am learning React and TypeScript for web development',
        metadata: {},
        createdAt: new Date()
      }];
      
      const skills = await plugin.extractSkills(logs);
      
      expect(skills).toBeInstanceOf(Array);
      expect(skills.length).toBeGreaterThan(0);
      
      const reactSkill = skills.find(s => s.skillName === 'React');
      expect(reactSkill).toBeDefined();
      expect(reactSkill.confidenceScore).toBeGreaterThan(0);
      expect(reactSkill.confidenceScore).toBeLessThanOrEqual(1);
    });
  });
  
  describe('validateConfig', () => {
    it('should validate correct config', async () => {
      await expect(plugin.validateConfig(config)).resolves.toBe(true);
    });
    
    it('should reject invalid config', async () => {
      const invalidConfig = { ...config, apiKey: undefined };
      
      await expect(plugin.validateConfig(invalidConfig))
        .rejects
        .toThrow('APIã‚­ãƒ¼ãŒè¨­å®šã•ã‚Œã¦ã„ã¾ã›ã‚“');
    });
  });
});
```

### ãƒ­ãƒ¼ã‚«ãƒ«ã§ã®ãƒ†ã‚¹ãƒˆ

```bash
# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ“ãƒ«ãƒ‰
npm run build

# ãƒ†ã‚¹ãƒˆã®å®Ÿè¡Œ
npm test

# ã‚«ãƒãƒ¬ãƒƒã‚¸ãƒ¬ãƒãƒ¼ãƒˆ
npm run test:coverage

# ãƒ­ãƒ¼ã‚«ãƒ«ã§ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’å®Ÿè¡Œ
skill-profile-cli plugin run ./dist
```

### ãƒ‡ãƒãƒƒã‚°ãƒ¢ãƒ¼ãƒ‰

```bash
# ãƒ‡ãƒãƒƒã‚°ãƒ­ã‚°ã‚’æœ‰åŠ¹ã«ã—ã¦å®Ÿè¡Œ
DEBUG=skill-profile:* skill-profile-cli plugin run ./dist

# ç‰¹å®šã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ã¿ãƒ‡ãƒãƒƒã‚°
DEBUG=skill-profile:plugin:my-awesome-plugin npm run dev
```

---

## ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å…¬é–‹

### 1. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®ãƒ“ãƒ«ãƒ‰

```bash
# æœ¬ç•ªãƒ“ãƒ«ãƒ‰
npm run build

# æœ€é©åŒ–
npm run optimize
```

### 2. ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®æ›´æ–°

`plugin.manifest.json`:

```json
{
  "name": "my-awesome-plugin",
  "version": "1.0.0",
  "description": "Awesome integration for Skill Profile",
  "author": "Your Name <your.email@example.com>",
  "license": "Apache-2.0",
  "homepage": "https://github.com/your-name/my-awesome-plugin",
  "repository": {
    "type": "git",
    "url": "https://github.com/your-name/my-awesome-plugin.git"
  },
  "keywords": ["skill-profile", "plugin", "ai", "integration"],
  "categories": ["ai-integration", "automation"],
  "permissions": [
    "read:logs",
    "write:skills",
    "network:external"
  ],
  "dependencies": {
    "@skill-profile/plugin-sdk": "^1.0.0"
  },
  "engines": {
    "node": ">=18.0.0"
  },
  "icon": "https://example.com/icon.png",
  "screenshots": [
    "https://example.com/screenshot1.png",
    "https://example.com/screenshot2.png"
  ]
}
```

### 3. ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®ä½œæˆ

`docs/README.md`:

```markdown
# My Awesome Plugin

## æ¦‚è¦

ã“ã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã¯...

## æ©Ÿèƒ½

- ãƒ­ã‚°åé›†
- ã‚¹ã‚­ãƒ«è‡ªå‹•æ¤œå‡º
- ...

## ã‚»ãƒƒãƒˆã‚¢ãƒƒãƒ—

1. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ã‚¤ãƒ³ã‚¹ãƒˆãƒ¼ãƒ«
2. APIã‚­ãƒ¼ã‚’å–å¾—
3. è¨­å®šã‚’å…¥åŠ›

## ä½¿ã„æ–¹

...

## ãƒˆãƒ©ãƒ–ãƒ«ã‚·ãƒ¥ãƒ¼ãƒ†ã‚£ãƒ³ã‚°

...
```

### 4. ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã®å…¬é–‹ç”³è«‹

```bash
# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’ãƒ‘ãƒƒã‚±ãƒ¼ã‚¸åŒ–
skill-profile-cli plugin package

# ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ãƒãƒ¼ã‚±ãƒƒãƒˆã«å…¬é–‹ç”³è«‹
skill-profile-cli plugin publish \
  --package ./dist/my-awesome-plugin-1.0.0.tgz \
  --message "åˆå›ãƒªãƒªãƒ¼ã‚¹"
```

### 5. ãƒ¬ãƒ“ãƒ¥ãƒ¼ãƒ—ãƒ­ã‚»ã‚¹

å…¬é–‹ç”³è«‹å¾Œã€ä»¥ä¸‹ã®ãƒ¬ãƒ“ãƒ¥ãƒ¼ãŒè¡Œã‚ã‚Œã¾ã™ï¼š

1. **è‡ªå‹•ãƒã‚§ãƒƒã‚¯**
   - ãƒãƒ‹ãƒ•ã‚§ã‚¹ãƒˆã®å¦¥å½“æ€§
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ã‚¹ã‚­ãƒ£ãƒ³
   - ä¾å­˜é–¢ä¿‚ã®ç¢ºèª

2. **æ‰‹å‹•ãƒ¬ãƒ“ãƒ¥ãƒ¼**
   - ã‚³ãƒ¼ãƒ‰å“è³ª
   - ã‚»ã‚­ãƒ¥ãƒªãƒ†ã‚£ãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹
   - ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆã®å®Œå…¨æ€§

3. **ãƒ†ã‚¹ãƒˆ**
   - ã‚µãƒ³ãƒ—ãƒ«ãƒ‡ãƒ¼ã‚¿ã§ã®å‹•ä½œç¢ºèª
   - ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹ãƒ†ã‚¹ãƒˆ

### 6. å…¬é–‹å¾Œã®ãƒ¡ãƒ³ãƒ†ãƒŠãƒ³ã‚¹

```bash
# ãƒãƒ¼ã‚¸ãƒ§ãƒ³ã®ã‚¢ãƒƒãƒ—ãƒ‡ãƒ¼ãƒˆ
npm version patch  # 1.0.0 -> 1.0.1
npm version minor  # 1.0.0 -> 1.1.0
npm version major  # 1.0.0 -> 2.0.0

# æ›´æ–°ç‰ˆã®å…¬é–‹
skill-profile-cli plugin publish \
  --package ./dist/my-awesome-plugin-1.1.0.tgz \
  --changelog "ãƒã‚°ä¿®æ­£ã¨ãƒ‘ãƒ•ã‚©ãƒ¼ãƒãƒ³ã‚¹æ”¹å–„"
```

---

## ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³

### ChatGPTãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆç°¡ç•¥ç‰ˆï¼‰

```typescript
import { Plugin, ActivityLog, DetectedSkill } from '@skill-profile/plugin-sdk';
import { OpenAI } from 'openai';

export class ChatGPTPlugin implements Plugin {
  metadata = {
    name: 'chatgpt-plugin',
    version: '1.0.0',
    description: 'ChatGPTä¼šè©±ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚’æŠ½å‡º',
    permissions: ['read:logs', 'write:skills', 'network:external']
  };

  async collectLogs(config: PluginConfig): Promise<ActivityLog[]> {
    const openai = new OpenAI({ apiKey: config.apiKey });
    const conversations = await openai.conversations.list({
      limit: 100
    });

    return conversations.data.map(conv => ({
      id: conv.id,
      userId: config.userId,
      pluginId: 'chatgpt-plugin',
      sourceType: 'ai_conversation',
      content: conv.messages.map(m => m.content).join('\n\n'),
      metadata: {
        model: conv.model,
        timestamp: conv.created_at
      },
      createdAt: new Date(conv.created_at * 1000)
    }));
  }

  async extractSkills(logs: ActivityLog[]): Promise<DetectedSkill[]> {
    const skills: DetectedSkill[] = [];
    
    // æŠ€è¡“ç”¨èªã®ãƒ‘ã‚¿ãƒ¼ãƒ³
    const techPatterns = [
      /\b(React|Vue|Angular|TypeScript|JavaScript|Python|Java|Go)\b/gi,
      /\b(Docker|Kubernetes|AWS|GCP|Azure)\b/gi,
      /\b(PostgreSQL|MongoDB|Redis|MySQL)\b/gi
    ];

    for (const log of logs) {
      for (const pattern of techPatterns) {
        const matches = log.content.match(pattern);
        if (matches) {
          for (const match of new Set(matches)) {
            skills.push({
              activityLogId: log.id,
              skillName: match,
              skillCategory: 'Technical',
              confidenceScore: 0.8,
              contextSnippet: this.extractContext(log.content, match),
              detectionMethod: 'keyword',
              relatedSkills: []
            });
          }
        }
      }
    }

    return skills;
  }

  // ... ãã®ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰
}
```

### GitHubãƒ—ãƒ©ã‚°ã‚¤ãƒ³ï¼ˆç°¡ç•¥ç‰ˆï¼‰

```typescript
import { Plugin, ActivityLog, DetectedSkill } from '@skill-profile/plugin-sdk';
import { Octokit } from '@octokit/rest';

export class GitHubPlugin implements Plugin {
  metadata = {
    name: 'github-plugin',
    version: '1.0.0',
    description: 'GitHubæ´»å‹•ã‹ã‚‰ã‚¹ã‚­ãƒ«ã‚’æŠ½å‡º',
    permissions: ['read:logs', 'write:skills', 'network:external']
  };

  async collectLogs(config: PluginConfig): Promise<ActivityLog[]> {
    const octokit = new Octokit({ auth: config.accessToken });
    
    // ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ãƒªãƒã‚¸ãƒˆãƒªã‚’å–å¾—
    const { data: repos } = await octokit.repos.listForAuthenticatedUser({
      sort: 'updated',
      per_page: 100
    });

    const logs: ActivityLog[] = [];

    for (const repo of repos) {
      // ã‚³ãƒŸãƒƒãƒˆå±¥æ­´
      const { data: commits } = await octokit.repos.listCommits({
        owner: repo.owner.login,
        repo: repo.name,
        author: config.username,
        per_page: 100
      });

      for (const commit of commits) {
        logs.push({
          id: commit.sha,
          userId: config.userId,
          pluginId: 'github-plugin',
          sourceType: 'github_activity',
          content: commit.commit.message,
          metadata: {
            repo: repo.full_name,
            language: repo.language,
            timestamp: commit.commit.author.date
          },
          createdAt: new Date(commit.commit.author.date)
        });
      }
    }

    return logs;
  }

  async extractSkills(logs: ActivityLog[]): Promise<DetectedSkill[]> {
    const languageCount = new Map<string, number>();
    
    // ä½¿ç”¨è¨€èªã‚’é›†è¨ˆ
    for (const log of logs) {
      const lang = log.metadata.language;
      if (lang) {
        languageCount.set(lang, (languageCount.get(lang) || 0) + 1);
      }
    }

    // ã‚¹ã‚­ãƒ«ã¨ã—ã¦å¤‰æ›
    return Array.from(languageCount.entries()).map(([lang, count]) => ({
      activityLogId: logs[0].id,
      skillName: lang,
      skillCategory: 'Programming Language',
      confidenceScore: Math.min(count / 100, 1.0),
      contextSnippet: `${count}å€‹ã®ã‚³ãƒŸãƒƒãƒˆã§ä½¿ç”¨`,
      detectionMethod: 'github_analysis',
      relatedSkills: []
    }));
  }

  // ... ãã®ä»–ã®ãƒ¡ã‚½ãƒƒãƒ‰
}
```

---

## ã‚µãƒãƒ¼ãƒˆã¨ãƒªã‚½ãƒ¼ã‚¹

### ãƒ‰ã‚­ãƒ¥ãƒ¡ãƒ³ãƒˆ

- [Plugin API Reference](https://docs.skillprofile.example.com/plugin-api)
- [SDK Documentation](https://docs.skillprofile.example.com/sdk)
- [Example Plugins](https://github.com/skill-profile/example-plugins)

### ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£

- [GitHub Discussions](https://github.com/skill-profile/skill-profile/discussions)
- [Discord Server](https://discord.gg/skill-profile)
- [Stack Overflow](https://stackoverflow.com/questions/tagged/skill-profile)

### ã‚µãƒãƒ¼ãƒˆ

- ãƒã‚°å ±å‘Š: [GitHub Issues](https://github.com/skill-profile/skill-profile/issues)
- æ©Ÿèƒ½ãƒªã‚¯ã‚¨ã‚¹ãƒˆ: [GitHub Discussions](https://github.com/skill-profile/skill-profile/discussions/categories/ideas)
- ãƒ¡ãƒ¼ãƒ«: plugin-support@skillprofile.example.com

---

## æ¬¡ã®ã‚¹ãƒ†ãƒƒãƒ—

1. [ã‚µãƒ³ãƒ—ãƒ«ãƒ—ãƒ©ã‚°ã‚¤ãƒ³](https://github.com/skill-profile/example-plugins)ã‚’è©¦ã™
2. ç‹¬è‡ªã®ãƒ—ãƒ©ã‚°ã‚¤ãƒ³ã‚’é–‹ç™ºã™ã‚‹
3. ã‚³ãƒŸãƒ¥ãƒ‹ãƒ†ã‚£ã«å…±æœ‰ã™ã‚‹
4. ãƒ•ã‚£ãƒ¼ãƒ‰ãƒãƒƒã‚¯ã‚’å—ã‘å–ã‚Šæ”¹å–„ã™ã‚‹

Happy Plugin Development! ğŸš€
